var f=Object.defineProperty;var g=(n,e,t)=>e in n?f(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var c=(n,e,t)=>(g(n,typeof e!="symbol"?e+"":e,t),t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const d of s.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();const h=document.getElementById("canvas");h.height=window.innerHeight;h.width=window.innerWidth;const r=h.getContext("2d");r.shadowBlur=30;r.shadowColor="white";const p=()=>[Math.random()*h.width,Math.random()*h.height];class y{constructor(e,t){c(this,"width");c(this,"height");c(this,"clusters",[]);this.width=e,this.height=t}clear(){r.fillStyle="#151515",r.fillRect(0,0,this.width,this.height)}genCluster(e,t=100,o=[0,0]){const i=[];for(let s=0;s<t;++s)i.push(p());this.clusters.push({radius:e,stars:i,velocity:o})}render(){for(let e of this.clusters)for(let[t,o]of e.stars)r.beginPath(),r.arc(t,o,e.radius,0,360),r.fillStyle="white",r.fill()}update(){this.clusters.forEach(e=>{e.stars.forEach(t=>{t[0]+=e.velocity[0]*e.radius*.01,t[1]+=e.velocity[1]*e.radius*.01,t[0]<0&&(t[0]=this.width),t[1]<0&&(t[1]=this.height),t[0]>this.width&&(t[0]=0),t[1]>this.height&&(t[1]=0)})})}updateVelocity(e,t){this.clusters.forEach(o=>{o.velocity=[e,t]})}}class m{constructor(e=10){c(this,"center",[h.width/2,h.height/2]);c(this,"vertices");c(this,"size");c(this,"angle");this.size=e,this.angle=0,this.vertices=[[this.center[0],this.center[1]+e/2],[this.center[0]+e/2,this.center[1]-e/2],[this.center[0]-e/2,this.center[1]-e/2]]}render(){r.translate(this.center[0],this.center[1]),r.rotate(this.angle),r.beginPath(),r.moveTo(this.size*Math.cos(0),this.size*Math.sin(0));for(var e=1;e<=3;e+=1)r.lineTo(this.size*Math.cos(e*2*Math.PI/3),this.size*Math.sin(e*2*Math.PI/3));r.closePath(),r.fillStyle="yellow",r.strokeStyle="orange",r.lineWidth=4,r.stroke(),r.fill(),r.rotate(-this.angle),r.translate(-this.center[0],-this.center[1])}setAngle(e){this.angle=e}}const l=new y(h.width,h.height);l.genCluster(4,25);l.genCluster(3,25);l.genCluster(1,50);const a=new m(30);window.addEventListener("mousemove",n=>{const e=n.x-a.center[0],t=n.y-a.center[1],o=Math.atan2(t,e);a.setAngle(o),l.updateVelocity(-e,-t)});const u=()=>{l.clear(),l.render(),a.render(),l.update(),requestAnimationFrame(u)};requestAnimationFrame(u);
